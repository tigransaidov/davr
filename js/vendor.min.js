/**
 * responsive-tabs
 * 
 * jQuery plugin that provides responsive tab functionality. The tabs transform to an accordion when it reaches a CSS breakpoint.
 * 
 * @author Jelle Kralt
 * @version v1.6.3
 * @license MIT
 */
!function(t,s,i){function e(s,i){this.element=s,this.$element=t(s),this.tabs=[],this.state="",this.rotateInterval=0,this.$queue=t({}),this.options=t.extend({},a,i),this.init()}var a={active:null,event:"click",disabled:[],collapsible:"accordion",startCollapsed:!1,rotate:!1,setHash:!1,animation:"default",animationQueue:!1,duration:500,fluidHeight:!0,scrollToAccordion:!1,scrollToAccordionOnLoad:!0,scrollToAccordionOffset:0,accordionTabElement:"<div></div>",navigationContainer:"",click:function(){},activate:function(){},deactivate:function(){},load:function(){},activateState:function(){},classes:{stateDefault:"r-tabs-state-default",stateActive:"r-tabs-state-active",stateDisabled:"r-tabs-state-disabled",stateExcluded:"r-tabs-state-excluded",container:"r-tabs",ul:"r-tabs-nav",tab:"r-tabs-tab",anchor:"r-tabs-anchor",panel:"r-tabs-panel",accordionTitle:"r-tabs-accordion-title"}};e.prototype.init=function(){var i=this;this.tabs=this._loadElements(),this._loadClasses(),this._loadEvents(),t(s).on("resize",(function(t){i._setState(t),!0!==i.options.fluidHeight&&i._equaliseHeights()})),t(s).on("hashchange",(function(t){var e=i._getTabRefBySelector(s.location.hash),a=i._getTab(e);e>=0&&!a._ignoreHashChange&&!a.disabled&&i._openTab(t,i._getTab(e),!0)})),!1!==this.options.rotate&&this.startRotation(),!0!==this.options.fluidHeight&&i._equaliseHeights(),this.$element.bind("tabs-click",(function(t,s){i.options.click.call(this,t,s)})),this.$element.bind("tabs-activate",(function(t,s){i.options.activate.call(this,t,s)})),this.$element.bind("tabs-deactivate",(function(t,s){i.options.deactivate.call(this,t,s)})),this.$element.bind("tabs-activate-state",(function(t,s){i.options.activateState.call(this,t,s)})),this.$element.bind("tabs-load",(function(t){var s;i._setState(t),!0===i.options.startCollapsed||"accordion"===i.options.startCollapsed&&"accordion"===i.state||(s=i._getStartTab(),i._openTab(t,s),i.options.load.call(this,t,s))})),this.$element.trigger("tabs-load")},e.prototype._loadElements=function(){var s=this,i=""===s.options.navigationContainer?this.$element.children("ul:first"):this.$element.find(s.options.navigationContainer).children("ul:first"),e=[],a=0;return this.$element.addClass(s.options.classes.container),i.addClass(s.options.classes.ul),t("li",i).each((function(){var i,o,n,r,h,l=t(this);if(!l.hasClass(s.options.classes.stateExcluded)){h=(i=t("a",l)).attr("href"),o=t(h),n=t(s.options.accordionTabElement).insertBefore(o),r=t("<a></a>").attr("href",h).html(i.html()).appendTo(n);var c={_ignoreHashChange:!1,id:a,disabled:-1!==t.inArray(a,s.options.disabled),tab:t(this),anchor:t("a",l),panel:o,selector:h,accordionTab:n,accordionAnchor:r,active:!1};a++,e.push(c)}})),e},e.prototype._loadClasses=function(){for(var t=0;t<this.tabs.length;t++)this.tabs[t].tab.addClass(this.options.classes.stateDefault).addClass(this.options.classes.tab),this.tabs[t].anchor.addClass(this.options.classes.anchor),this.tabs[t].panel.addClass(this.options.classes.stateDefault).addClass(this.options.classes.panel),this.tabs[t].accordionTab.addClass(this.options.classes.accordionTitle),this.tabs[t].accordionAnchor.addClass(this.options.classes.anchor),this.tabs[t].disabled&&(this.tabs[t].tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled),this.tabs[t].accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled))},e.prototype._loadEvents=function(){for(var t=this,i=function(i){var e=t._getCurrentTab(),a=i.data.tab;i.preventDefault(),a.tab.trigger("tabs-click",a),a.disabled||(t.options.setHash&&(history.pushState?(s.location.origin||(s.location.origin=s.location.protocol+"//"+s.location.hostname+(s.location.port?":"+s.location.port:"")),history.pushState(null,null,s.location.origin+s.location.pathname+s.location.search+a.selector)):s.location.hash=a.selector),i.data.tab._ignoreHashChange=!0,(e!==a||t._isCollapisble())&&(t._closeTab(i,e),e===a&&t._isCollapisble()||t._openTab(i,a,!1,!0)))},e=0;e<this.tabs.length;e++)this.tabs[e].anchor.on(t.options.event,{tab:t.tabs[e]},i),this.tabs[e].accordionAnchor.on(t.options.event,{tab:t.tabs[e]},i)},e.prototype._getStartTab=function(){var t=this._getTabRefBySelector(s.location.hash);return t>=0&&!this._getTab(t).disabled?this._getTab(t):this.options.active>0&&!this._getTab(this.options.active).disabled?this._getTab(this.options.active):this._getTab(0)},e.prototype._setState=function(s){var e,a=t("ul:first",this.$element),o=this.state,n="string"==typeof this.options.startCollapsed;a.is(":visible")?this.state="tabs":this.state="accordion",this.state!==o&&(this.$element.trigger("tabs-activate-state",{oldState:o,newState:this.state}),o&&n&&this.options.startCollapsed!==this.state&&this._getCurrentTab()===i&&(e=this._getStartTab(s),this._openTab(s,e)))},e.prototype._openTab=function(s,i,e,a){var o,n=this;e&&this._closeTab(s,this._getCurrentTab()),a&&this.rotateInterval>0&&this.stopRotation(),i.active=!0,i.tab.removeClass(n.options.classes.stateDefault).addClass(n.options.classes.stateActive),i.accordionTab.removeClass(n.options.classes.stateDefault).addClass(n.options.classes.stateActive),n._doTransition(i.panel,n.options.animation,"open",(function(){var e="tabs-load"!==s.type||n.options.scrollToAccordionOnLoad;i.panel.removeClass(n.options.classes.stateDefault).addClass(n.options.classes.stateActive),"accordion"!==n.getState()||!n.options.scrollToAccordion||n._isInView(i.accordionTab)&&"default"===n.options.animation||!e||(o=i.accordionTab.offset().top-n.options.scrollToAccordionOffset,"default"!==n.options.animation&&n.options.duration>0?t("html, body").animate({scrollTop:o},n.options.duration):t("html, body").scrollTop(o))})),this.$element.trigger("tabs-activate",i)},e.prototype._closeTab=function(t,s){var e,a=this,o="string"==typeof a.options.animationQueue;s!==i&&(e=!(!o||a.getState()!==a.options.animationQueue)||!o&&a.options.animationQueue,s.active=!1,s.tab.removeClass(a.options.classes.stateActive).addClass(a.options.classes.stateDefault),a._doTransition(s.panel,a.options.animation,"close",(function(){s.accordionTab.removeClass(a.options.classes.stateActive).addClass(a.options.classes.stateDefault),s.panel.removeClass(a.options.classes.stateActive).addClass(a.options.classes.stateDefault)}),!e),this.$element.trigger("tabs-deactivate",s))},e.prototype._doTransition=function(t,s,i,e,a){var o,n=this;switch(s){case"slide":o="open"===i?"slideDown":"slideUp";break;case"fade":o="open"===i?"fadeIn":"fadeOut";break;default:o="open"===i?"show":"hide",n.options.duration=0}this.$queue.queue("responsive-tabs",(function(a){t[o]({duration:n.options.duration,complete:function(){e.call(t,s,i),a()}})})),("open"===i||a)&&this.$queue.dequeue("responsive-tabs")},e.prototype._isCollapisble=function(){return"boolean"==typeof this.options.collapsible&&this.options.collapsible||"string"==typeof this.options.collapsible&&this.options.collapsible===this.getState()},e.prototype._getTab=function(t){return this.tabs[t]},e.prototype._getTabRefBySelector=function(t){for(var s=0;s<this.tabs.length;s++)if(this.tabs[s].selector===t)return s;return-1},e.prototype._getCurrentTab=function(){return this._getTab(this._getCurrentTabRef())},e.prototype._getNextTabRef=function(t){var s=t||this._getCurrentTabRef(),i=s===this.tabs.length-1?0:s+1;return this._getTab(i).disabled?this._getNextTabRef(i):i},e.prototype._getPreviousTabRef=function(){return 0===this._getCurrentTabRef()?this.tabs.length-1:this._getCurrentTabRef()-1},e.prototype._getCurrentTabRef=function(){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].active)return t;return-1},e.prototype._equaliseHeights=function(){var s=0;t.each(t.map(this.tabs,(function(t){return s=Math.max(s,t.panel.css("minHeight","").height()),t.panel})),(function(){this.css("minHeight",s)}))},e.prototype._isInView=function(i){var e=t(s).scrollTop(),a=e+t(s).height(),o=i.offset().top;return a>=o+i.height()&&o>=e},e.prototype.activate=function(t,s){var i=jQuery.Event("tabs-activate"),e=this._getTab(t);e.disabled||this._openTab(i,e,!0,s||!0)},e.prototype.deactivate=function(t){var s=jQuery.Event("tabs-dectivate"),i=this._getTab(t);i.disabled||this._closeTab(s,i)},e.prototype.enable=function(t){var s=this._getTab(t);s&&(s.disabled=!1,s.tab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled),s.accordionTab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled))},e.prototype.disable=function(t){var s=this._getTab(t);s&&(s.disabled=!0,s.tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled),s.accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled))},e.prototype.getState=function(){return this.state},e.prototype.startRotation=function(s){var i=this;if(!(this.tabs.length>this.options.disabled.length))throw new Error("Rotation is not possible if all tabs are disabled");this.rotateInterval=setInterval((function(){var t=jQuery.Event("rotate");i._openTab(t,i._getTab(i._getNextTabRef()),!0)}),s||(t.isNumeric(i.options.rotate)?i.options.rotate:4e3))},e.prototype.stopRotation=function(){s.clearInterval(this.rotateInterval),this.rotateInterval=0},e.prototype.option=function(t,s){return s&&(this.options[t]=s),this.options[t]},t.fn.responsiveTabs=function(s){var a,o=arguments;return s===i||"object"==typeof s?this.each((function(){t.data(this,"responsivetabs")||t.data(this,"responsivetabs",new e(this,s))})):"string"==typeof s&&"_"!==s[0]&&"init"!==s?(a=t.data(this[0],"responsivetabs"),"destroy"===s&&t.data(this,"responsivetabs",null),a instanceof e&&"function"==typeof a[s]?a[s].apply(a,Array.prototype.slice.call(o,1)):this):void 0}}(jQuery,window),function(t,s,i,e){function a(s,i){var o=this;"object"==typeof i&&(delete i.refresh,delete i.render,t.extend(this,i)),this.$element=t(s),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var n=(this.position+"").toLowerCase().match(/\S+/g)||[];if(n.length<1&&n.push("center"),1==n.length&&n.push(n[0]),"top"!=n[0]&&"bottom"!=n[0]&&"left"!=n[1]&&"right"!=n[1]||(n=[n[1],n[0]]),this.positionX!==e&&(n[0]=this.positionX.toLowerCase()),this.positionY!==e&&(n[1]=this.positionY.toLowerCase()),o.positionX=n[0],o.positionY=n[1],"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=t("<div />").prependTo(this.mirrorContainer);var r=this.$element.find(">.parallax-slider"),h=!1;0==r.length?this.$slider=t("<img />").prependTo(this.$mirror):(this.$slider=r.prependTo(this.$mirror),h=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",(function(){o.naturalHeight&&o.naturalWidth||(o.naturalHeight=this.naturalHeight||this.height||1,o.naturalWidth=this.naturalWidth||this.width||1),o.aspectRatio=o.naturalWidth/o.naturalHeight,a.isSetup||a.setup(),a.sliders.push(o),a.isFresh=!1,a.requestRender()})),h||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||r.length>0)&&this.$slider.trigger("load")}!function(){for(var t=0,i=["ms","moz","webkit","o"],e=0;e<i.length&&!s.requestAnimationFrame;++e)s.requestAnimationFrame=s[i[e]+"RequestAnimationFrame"],s.cancelAnimationFrame=s[i[e]+"CancelAnimationFrame"]||s[i[e]+"CancelRequestAnimationFrame"];s.requestAnimationFrame||(s.requestAnimationFrame=function(i){var e=(new Date).getTime(),a=Math.max(0,16-(e-t)),o=s.setTimeout((function(){i(e+a)}),a);return t=e+a,o}),s.cancelAnimationFrame||(s.cancelAnimationFrame=function(t){clearTimeout(t)})}(),t.extend(a.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,mirrorContainer:"body",refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var t,s=a.winHeight,i=a.docHeight,e=Math.min(this.boxOffsetTop,i-s),o=Math.max(this.boxOffsetTop+this.boxHeight-s,0),n=this.boxHeight+(e-o)*(1-this.speed)|0,r=(this.boxOffsetTop-e)*(1-this.speed)|0;n*this.aspectRatio>=this.boxWidth?(this.imageWidth=n*this.aspectRatio|0,this.imageHeight=n,this.offsetBaseTop=r,t=this.imageWidth-this.boxWidth,"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-t:isNaN(this.positionX)?this.offsetLeft=-t/2|0:this.offsetLeft=Math.max(this.positionX,-t)):(this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0,t=this.imageHeight-n,"top"==this.positionY?this.offsetBaseTop=r:"bottom"==this.positionY?this.offsetBaseTop=r-t:isNaN(this.positionY)?this.offsetBaseTop=r-t/2|0:this.offsetBaseTop=r+Math.max(this.positionY,-t))},render:function(){var t=a.scrollTop,s=a.scrollLeft,i=this.overScrollFix?a.overScroll:0,e=t+a.winHeight;this.boxOffsetBottom>t&&this.boxOffsetTop<=e?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-t,this.mirrorLeft=this.boxOffsetLeft-s,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d("+this.mirrorLeft+"px, "+(this.mirrorTop-i)+"px, 0px)",visibility:this.visibility,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d("+this.offsetLeft+"px, "+this.offsetTop+"px, 0px)",position:"absolute",height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),t.extend(a,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){if(!this.isReady){var e=this,o=t(i),n=t(s),r=function(){a.winHeight=n.height(),a.winWidth=n.width(),a.docHeight=o.height(),a.docWidth=o.width()},h=function(){var t=n.scrollTop(),s=a.docHeight-a.winHeight,i=a.docWidth-a.winWidth;a.scrollTop=Math.max(0,Math.min(s,t)),a.scrollLeft=Math.max(0,Math.min(i,n.scrollLeft())),a.overScroll=Math.max(t-s,Math.min(t,0))};n.on("resize.px.parallax load.px.parallax",(function(){r(),e.refresh(),a.isFresh=!1,a.requestRender()})).on("scroll.px.parallax load.px.parallax",(function(){h(),a.requestRender()})),r(),h(),this.isReady=!0;var l=-1;!function t(){if(l==s.pageYOffset)return s.requestAnimationFrame(t),!1;l=s.pageYOffset,e.render(),s.requestAnimationFrame(t)}()}},configure:function(s){"object"==typeof s&&(delete s.refresh,delete s.render,t.extend(this.prototype,s))},refresh:function(){t.each(this.sliders,(function(){this.refresh()})),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),t.each(this.sliders,(function(){this.render()}))},requestRender:function(){this.render(),this.isBusy=!1},destroy:function(i){var e,o=t(i).data("px.parallax");for(o.$mirror.remove(),e=0;e<this.sliders.length;e+=1)this.sliders[e]==o&&this.sliders.splice(e,1);t(i).data("px.parallax",!1),0===this.sliders.length&&(t(s).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,a.isSetup=!1)}});var o=t.fn.parallax;t.fn.parallax=function(e){return this.each((function(){var o=t(this),n="object"==typeof e&&e;this==s||this==i||o.is("body")?a.configure(n):o.data("px.parallax")?"object"==typeof e&&t.extend(o.data("px.parallax"),n):(n=t.extend({},o.data(),n),o.data("px.parallax",new a(this,n))),"string"==typeof e&&("destroy"==e?a.destroy(this):a[e]())}))},t.fn.parallax.Constructor=a,t.fn.parallax.noConflict=function(){return t.fn.parallax=o,this},t((function(){t('[data-parallax="scroll"]').parallax()}))}(jQuery,window,document);